<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>Tr√¶ning af ordforr√•d verber(DA‚ÜíRU)</title>
<style>
body { font-family: sans-serif; line-height: 1.6; margin: 20px; }
.word { border: 1px solid #ccc; border-radius: 8px; padding: 12px; margin-bottom: 12px; }
.hidden { display: none; }
input[type="text"] { padding: 5px; margin: 3px; width: 120px; }
button { margin-left: 5px; padding: 5px 10px; }
.correct { background-color: #c8f7c5; } /* –∑–µ–ª—ë–Ω—ã–π */
.wrong { background-color: #f7c5c5; }   /* –∫—Ä–∞—Å–Ω—ã–π */
.wordSpan { margin-right: 3px; }
</style>
</head>
<body>
<h2>Tr√¶ning af ordforr√•d verber(DA‚ÜíRU)</h2>
<label><input type="checkbox" id="toggleWords"> Skjul alle ord</label>
<label><input type="checkbox" id="toggleTranslations"> Skjul alle overs√¶ttelser</label>

<div id="wordsContainer"></div>

<script>
const words = [
  { da: "overveje", ru: "—Ä–∞–∑–º—ã—à–ª—è—Ç—å, –æ–±–¥—É–º—ã–≤–∞—Ç—å", ex: "Jeg skal ___, om jeg vil tage jobbet.", parts: ["overveje"] },
  { da: "forhandle", ru: "–≤–µ—Å—Ç–∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã", ex: "Vi skal ___ med leverand√∏ren.", parts: ["forhandle"] },
  { da: "unders√∏ge", ru: "–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å, –∏–∑—É—á–∞—Ç—å", ex: "L√¶gen vil ___ patientens symptomer.", parts: ["unders√∏ge"] },
  { da: "udvikle", ru: "—Ä–∞–∑–≤–∏–≤–∞—Ç—å, —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å", ex: "Firmaet vil ___ en ny app.", parts: ["udvikle"] },
  { da: "implementere", ru: "–≤–Ω–µ–¥—Ä—è—Ç—å, —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å", ex: "Vi skal ___ den nye plan.", parts: ["implementere"] },
  { da: "p√•virke", ru: "–≤–ª–∏—è—Ç—å", ex: "Vejret kan ___ hum√∏ret.", parts: ["p√•virke"] },
  { da: "anbefale", ru: "—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å", ex: "Jeg vil ___ denne bog til dig.", parts: ["anbefale"] },
  { da: "begrunde", ru: "–æ–±–æ—Å–Ω–æ–≤—ã–≤–∞—Ç—å", ex: "Kan du ___ dit svar?", parts: ["begrunde"] },
  { da: "forklare", ru: "–æ–±—ä—è—Å–Ω—è—Ç—å", ex: "L√¶reren vil ___ reglen.", parts: ["forklare"] },
  { da: "udtrykke", ru: "–≤—ã—Ä–∞–∂–∞—Ç—å", ex: "Hun kan godt ___ sine f√∏lelser.", parts: ["udtrykke"] },
  { da: "sammenligne", ru: "—Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å", ex: "Vi skal ___ priserne.", parts: ["sammenligne"] },
  { da: "konkludere", ru: "–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥", ex: "Vi kan ___, at fors√∏get var en succes.", parts: ["konkludere"] },
  { da: "forst√•", ru: "–ø–æ–Ω–∏–º–∞—Ç—å", ex: "Jeg kan ikke ___, hvorfor han gjorde det.", parts: ["forst√•"] },
  { da: "godkende", ru: "—É—Ç–≤–µ—Ä–∂–¥–∞—Ç—å, –æ–¥–æ–±—Ä—è—Ç—å", ex: "Direkt√∏ren vil ___ budgettet.", parts: ["godkende"] },
  { da: "afvise", ru: "–æ—Ç–∫–ª–æ–Ω—è—Ç—å, –æ—Ç–≤–µ—Ä–≥–∞—Ç—å", ex: "Hun valgte at ___ invitationen.", parts: ["afvise"] },
  { da: "acceptere", ru: "–ø—Ä–∏–Ω–∏–º–∞—Ç—å", ex: "Jeg kan ikke ___ dette tilbud.", parts: ["acceptere"] },
  { da: "beslutte", ru: "–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ", ex: "Vi skal ___, hvor vi skal rejse.", parts: ["beslutte"] },
  { da: "udfordre", ru: "–±—Ä–æ—Å–∞—Ç—å –≤—ã–∑–æ–≤", ex: "Han vil ___ sine kolleger til en konkurrence.", parts: ["udfordre"] },
  { da: "opfordre", ru: "–ø—Ä–∏–∑—ã–≤–∞—Ç—å, –ø–æ–±—É–∂–¥–∞—Ç—å", ex: "L√¶reren vil ___ eleverne til at l√¶se mere.", parts: ["opfordre"] },
  { da: "respektere", ru: "—É–≤–∞–∂–∞—Ç—å", ex: "Vi skal ___ reglerne.", parts: ["respektere"] },
  { da: "modst√•", ru: "—Å–æ–ø—Ä–æ—Ç–∏–≤–ª—è—Ç—å—Å—è", ex: "Han kunne ikke ___ fristelsen.", parts: ["modst√•"] },
  { da: "udnytte", ru: "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–ø–æ –º–∞–∫—Å–∏–º—É–º—É)", ex: "Vi skal ___ ressourcerne bedre.", parts: ["udnytte"] },
  { da: "overraske", ru: "—É–¥–∏–≤–ª—è—Ç—å", ex: "Hun vil ___ sin ven med en gave.", parts: ["overraske"] },
  { da: "tilf√∏je", ru: "–¥–æ–±–∞–≤–ª—è—Ç—å", ex: "Kan du ___ flere oplysninger?", parts: ["tilf√∏je"] },
  { da: "forudsige", ru: "–ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å", ex: "Meteorologen kan ___ vejret.", parts: ["forudsige"] },
  { da: "udskyde", ru: "–æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å", ex: "Vi m√• ___ m√∏det til n√¶ste uge.", parts: ["udskyde"] },
  { da: "sikre", ru: "–æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å", ex: "Vi skal ___ kvaliteten.", parts: ["sikre"] },
  { da: "afslutte", ru: "–∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å", ex: "Lad os ___ projektet i dag.", parts: ["afslutte"] },
  { da: "forbedre", ru: "—É–ª—É—á—à–∞—Ç—å", ex: "Vi vil ___ processen.", parts: ["forbedre"] },
  { da: "anvende", ru: "–ø—Ä–∏–º–µ–Ω—è—Ç—å", ex: "Vi skal ___ denne metode.", parts: ["anvende"] },
  { da: "tilpasse", ru: "–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å", ex: "Vi m√• ___ planen efter behov.", parts: ["tilpasse"] },
  { da: "h√•ndtere", ru: "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å, —É–ø—Ä–∞–≤–ª—è—Ç—å", ex: "Han kan ___ sv√¶re situationer.", parts: ["h√•ndtere"] },
  { da: "konfrontere", ru: "—Å—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è, –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è—Ç—å", ex: "Vi m√• ___ problemet direkte.", parts: ["konfrontere"] },
  { da: "forst√•", ru: "–ø–æ–Ω–∏–º–∞—Ç—å", ex: "Jeg kan godt ___ denne tekst.", parts: ["forst√•"] },
  { da: "afklare", ru: "—É—Ç–æ—á–Ω—è—Ç—å, –ø—Ä–æ—è—Å–Ω—è—Ç—å", ex: "Lad os ___ detaljerne f√∏rst.", parts: ["afklare"] },
  { da: "opdage", ru: "–æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å", ex: "Vi ___ en fejl i systemet.", parts: ["opdage"] },
  { da: "anerkende", ru: "–ø—Ä–∏–∑–Ω–∞–≤–∞—Ç—å, –æ–¥–æ–±—Ä—è—Ç—å", ex: "Man m√• ___ hans indsats.", parts: ["anerkende"] },
  { da: "realisere", ru: "–æ—Å–æ–∑–Ω–∞–≤–∞—Ç—å, —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å", ex: "Hun begyndte at ___ sin dr√∏m.", parts: ["realisere"] },
  { da: "observere", ru: "–Ω–∞–±–ª—é–¥–∞—Ç—å", ex: "Vi ___ fuglene i haven.", parts: ["observere"] },
  { da: "dokumentere", ru: "–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å", ex: "Skolen vil ___ resultaterne.", parts: ["dokumentere"] },
  { da: "overholde", ru: "—Å–æ–±–ª—é–¥–∞—Ç—å", ex: "Alle skal ___ reglerne.", parts: ["overholde"] },
  { da: "prioritere", ru: "–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å", ex: "Vi m√• ___ de vigtigste opgaver.", parts: ["prioritere"] },
  { da: "koordinerer", ru: "–∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å", ex: "Han ___ projektet med teamet.", parts: ["koordinerer"] },
  { da: "dele", ru: "–¥–µ–ª–∏—Ç—å—Å—è", ex: "Hun vil ___ sin erfaring.", parts: ["dele"] },
  { da: "indsamle", ru: "—Å–æ–±–∏—Ä–∞—Ç—å", ex: "Vi skal ___ data til analysen.", parts: ["indsamle"] },
  { da: "sammenfatte", ru: "–ø–æ–¥–≤–æ–¥–∏—Ç—å –∏—Ç–æ–≥–∏", ex: "Vi vil ___ rapporten.", parts: ["sammenfatte"] },
  { da: "beskrive", ru: "–æ–ø–∏—Å—ã–≤–∞—Ç—å", ex: "Kan du ___ processen?", parts: ["beskrive"] },
  { da: "forkaste", ru: "–æ—Ç–±—Ä–∞—Å—ã–≤–∞—Ç—å", ex: "Vi m√• ___ id√©en.", parts: ["forkaste"] },
  { da: "bekr√¶fte", ru: "–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å", ex: "Kan du ___ m√∏det?", parts: ["bekr√¶fte"] },
  { da: "indlevere", ru: "—Å–¥–∞–≤–∞—Ç—å, –≤—Ä—É—á–∞—Ç—å", ex: "Husk at ___ opgaven til tiden.", parts: ["indlevere"] },
  { da: "udvide", ru: "—Ä–∞—Å—à–∏—Ä—è—Ç—å", ex: "Vi vil ___ virksomheden til udlandet.", parts: ["udvide"] }
];


const container = document.getElementById("wordsContainer");

words.forEach((w, idx) => {
  const div = document.createElement("div");
  div.className = "word";

  const da = document.createElement("div");
  da.className = "daWord";
  da.textContent = "DA: " + w.da;

  const ru = document.createElement("div");
  ru.className = "ruWord";
  ru.textContent = "RU: " + w.ru;

  // --- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ ---
  const exDiv = document.createElement("div");
  let partIdx = 0;
  w.ex.split(" ").forEach(word => {
    if(word.includes("___")) {
      // —Å–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –∏–∑ parts
      w.parts.forEach(p => {
        const span = document.createElement("span");
        span.className = "wordPart";
        const input = document.createElement("input");
        input.type = "text";
        input.dataset.word = p.toLowerCase();
        span.appendChild(input);
        exDiv.appendChild(span);
      });
    } else {
      const span = document.createElement("span");
      span.className = "wordSpan";
      span.textContent = word;
      span.dataset.word = word.replace(/[.,!?]/g,"").toLowerCase();
      exDiv.appendChild(span);
    }
    exDiv.appendChild(document.createTextNode(" "));
  });

  // --- –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ ---
  const checkBtn = document.createElement("button");
  checkBtn.textContent = "Tjek";
  checkBtn.onclick = () => {
    let allCorrect = true;
    exDiv.querySelectorAll("input").forEach(inp => {
      const correctWords = inp.dataset.word.toLowerCase().split(" ");
      const userWords = inp.value.trim().toLowerCase().split(" ");
      const isCorrect = correctWords.length === userWords.length &&
                        correctWords.every((w,i) => w===userWords[i]);
      if(isCorrect) {
        inp.classList.add("correct");
        inp.classList.remove("wrong");
      } else {
        inp.classList.add("wrong");
        inp.classList.remove("correct");
        allCorrect = false;
      }
    });

    const result = document.createElement("div");
    result.className = allCorrect ? "correct" : "wrong";
    result.textContent = allCorrect ? "Korrekt!" : "Forkert!";
    exDiv.appendChild(result);
    setTimeout(() => result.remove(), 1500);
  };

  // --- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ ---
  const micBtn = document.createElement("button");
  micBtn.textContent = "üéôÔ∏è L√¶s h√∏jt";
  micBtn.onclick = () => {
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "da-DK";
    recognition.interimResults = false;
    recognition.start();

    recognition.onresult = event => {
      const spoken = event.results[0][0].transcript.toLowerCase();
      exDiv.querySelectorAll("span, input").forEach(el => {
        const word = el.dataset.word;
        if(spoken.includes(word)){
          el.classList.add("correct");
          el.classList.remove("wrong");
        } else {
          el.classList.add("wrong");
          el.classList.remove("correct");
        }
      });
    };
    recognition.onerror = err => console.error("SpeechRecognition error:", err);
  };

  // --- –ó–∞–ø–∏—Å—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ ---
  const recordBtn = document.createElement("button");
  recordBtn.textContent = "‚è∫Ô∏è Optag og spil";
  let audioBlob = null;
  recordBtn.onclick = async () => {
    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
    const mediaRecorder = new MediaRecorder(stream);
    let chunks = [];
    mediaRecorder.ondataavailable = e => chunks.push(e.data);
    mediaRecorder.onstop = () => {
      audioBlob = new Blob(chunks, { type: 'audio/webm' });
      const audioUrl = URL.createObjectURL(audioBlob);
      const audio = new Audio(audioUrl);
      audio.play();
    };
    mediaRecorder.start();
    setTimeout(() => mediaRecorder.stop(), 3000);
  };

  // --- –ü—Ä–æ—Å–ª—É—à–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª ---
  const playOrigBtn = document.createElement("button");
  playOrigBtn.textContent = "‚ñ∂Ô∏è H√∏r original";
  playOrigBtn.onclick = () => {
    const utterance = new SpeechSynthesisUtterance(w.ex.replace(/___/g, w.parts.join(" ")));
    utterance.lang = "da-DK";
    window.speechSynthesis.speak(utterance);
  };

  div.appendChild(da);
  div.appendChild(ru);
  div.appendChild(exDiv);
  div.appendChild(checkBtn);
  div.appendChild(micBtn);
  div.appendChild(recordBtn);
  div.appendChild(playOrigBtn);
  container.appendChild(div);
});

// --- —Å–∫—Ä—ã—Ç–∏–µ —Å–ª–æ–≤ / –ø–µ—Ä–µ–≤–æ–¥–æ–≤ ---
document.getElementById("toggleWords").onchange = e => {
  document.querySelectorAll(".daWord").forEach(d => d.classList.toggle("hidden", e.target.checked));
};
document.getElementById("toggleTranslations").onchange = e => {
  document.querySelectorAll(".ruWord").forEach(d => d.classList.toggle("hidden", e.target.checked));
};
</script>
</body>
</html>