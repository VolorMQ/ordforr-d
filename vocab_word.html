<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>Tr√¶ning af ordforr√•d substantiver(DA‚ÜíRU)</title>
<style>
body { font-family: sans-serif; line-height: 1.6; margin: 20px; }
.word { border: 1px solid #ccc; border-radius: 8px; padding: 12px; margin-bottom: 12px; }
.hidden { display: none; }
input[type="text"] { padding: 5px; margin: 3px; width: 120px; }
button { margin-left: 5px; padding: 5px 10px; }
.correct { background-color: #c8f7c5; } /* –∑–µ–ª—ë–Ω—ã–π */
.wrong { background-color: #f7c5c5; }   /* –∫—Ä–∞—Å–Ω—ã–π */
.wordSpan { margin-right: 3px; }
</style>
</head>
<body>
<h2>Tr√¶ning af ordforr√•d substantiver(DA‚ÜíRU)</h2>
<label><input type="checkbox" id="toggleWords"> Skjul alle ord</label>
<label><input type="checkbox" id="toggleTranslations"> Skjul alle overs√¶ttelser</label>

<div id="wordsContainer"></div>

<script>
const words = [
  // --- –ü—Ä–∏—Ä–æ–¥–∞ –∏ –º–µ—Å—Ç–∞ ---
  { da: "bakke", ru: "—Ö–æ–ª–º", ex: "Vi gik op ad ___ for at se udsigten.", parts: ["bakke"] },
  { da: "eng", ru: "–ª—É–≥", ex: "K√∏erne gr√¶sser p√• ___.", parts: ["eng"] },
  { da: "√•", ru: "—Ä–µ–∫–∞ / —Ä—É—á–µ–π", ex: "Vi fiskede i ___.", parts: ["√•"] },
  { da: "klippe", ru: "—Å–∫–∞–ª–∞", ex: "De sad p√• en stor ___.", parts: ["klippe"] },
  { da: "skov", ru: "–ª–µ—Å", ex: "Vi gik en tur i ___.", parts: ["skov"] },
  { da: "s√∏", ru: "–æ–∑–µ—Ä–æ", ex: "B√∏rnene sv√∏mmede i ___.", parts: ["s√∏"] },
  { da: "strand", ru: "–ø–ª—è–∂", ex: "Vi tilbragte dagen p√• ___.", parts: ["strand"] },
  { da: "dal", ru: "–¥–æ–ª–∏–Ω–∞", ex: "Vi k√∏rte gennem en smuk ___.", parts: ["dal"] },
  { da: "mark", ru: "–ø–æ–ª–µ", ex: "K√∏erne g√•r p√• ___.", parts: ["mark"] },
  { da: "b√¶k", ru: "—Ä—É—á–µ–π", ex: "Fiskene sv√∏mmede i ___.", parts: ["b√¶k"] },

  // --- –î–æ–º –∏ –≤–µ—â–∏ ---
  { da: "reol", ru: "–∫–Ω–∏–∂–Ω–∞—è –ø–æ–ª–∫–∞", ex: "B√∏gerne st√•r i ___.", parts: ["reol"] },
  { da: "skuffe", ru: "—è—â–∏–∫", ex: "Jeg lagde dokumenterne i ___.", parts: ["skuffe"] },
  { da: "pude", ru: "–ø–æ–¥—É—à–∫–∞", ex: "S√¶t ___ p√• sofaen.", parts: ["pude"] },
  { da: "tallerken", ru: "—Ç–∞—Ä–µ–ª–∫–∞", ex: "Vi spiser af en ny ___.", parts: ["tallerken"] },
  { da: "kop", ru: "—á–∞—à–∫–∞", ex: "Jeg drikker kaffe af en ___.", parts: ["kop"] },
  { da: "gardin", ru: "–∑–∞–Ω–∞–≤–µ—Å–∫–∞", ex: "Tr√¶k ___ for vinduet.", parts: ["gardin"] },
  { da: "lampe", ru: "–ª–∞–º–ø–∞", ex: "T√¶nd ___ i stuen.", parts: ["lampe"] },
  { da: "skab", ru: "—à–∫–∞—Ñ", ex: "Jeg gemmer jakkerne i ___.", parts: ["skab"] },
  { da: "t√¶ppe", ru: "–∫–æ–≤–µ—Ä / –ø–ª–µ–¥", ex: "Vi l√¶gger ___ p√• gulvet.", parts: ["t√¶ppe"] },
  { da: "kommode", ru: "–∫–æ–º–æ–¥", ex: "S√¶t b√∏gerne p√• ___.", parts: ["kommode"] },

  // --- –õ—é–¥–∏ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ ---
  { da: "sygeplejerske", ru: "–º–µ–¥—Å–µ—Å—Ç—Ä–∞", ex: "___ arbejder p√• hospitalet.", parts: ["sygeplejerske"] },
  { da: "l√¶rer", ru: "—É—á–∏—Ç–µ–ª—å", ex: "___ underviser i dansk.", parts: ["l√¶rer"] },
  { da: "mekaniker", ru: "–º–µ—Ö–∞–Ω–∏–∫", ex: "Min ___ reparerer biler.", parts: ["mekaniker"] },
  { da: "fotograf", ru: "—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ", ex: "___ tager billeder til brylluppet.", parts: ["fotograf"] },
  { da: "kunstner", ru: "—Ö—É–¥–æ–∂–Ω–∏–∫", ex: "___ maler smukke billeder.", parts: ["kunstner"] },
  { da: "journalist", ru: "–∂—É—Ä–Ω–∞–ª–∏—Å—Ç", ex: "___ skriver artikler til avisen.", parts: ["journalist"] },
  { da: "kok", ru: "–ø–æ–≤–∞—Ä", ex: "___ laver mad p√• restauranten.", parts: ["kok"] },
  { da: "politibetjent", ru: "–ø–æ–ª–∏—Ü–µ–π—Å–∫–∏–π", ex: "___ patruljerer i byen.", parts: ["politibetjent"] },
  { da: "ingeni√∏r", ru: "–∏–Ω–∂–µ–Ω–µ—Ä", ex: "___ designer nye maskiner.", parts: ["ingeni√∏r"] },
  { da: "arkitekt", ru: "–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä", ex: "___ tegner bygninger.", parts: ["arkitekt"] },

  // --- –†–∞–±–æ—Ç–∞, —É—á–µ–±–∞, —É—á—Ä–µ–∂–¥–µ–Ω–∏—è ---
  { da: "konference", ru: "–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è", ex: "Vi deltager i en ___ i K√∏benhavn.", parts: ["konference"] },
  { da: "semester", ru: "—Å–µ–º–µ—Å—Ç—Ä", ex: "Det nye ___ starter i august.", parts: ["semester"] },
  { da: "bibliotek", ru: "–±–∏–±–ª–∏–æ—Ç–µ–∫–∞", ex: "Jeg l√•ner b√∏ger p√• ___.", parts: ["bibliotek"] },
  { da: "laboratorium", ru: "–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è", ex: "Eleverne arbejder i et ___.", parts: ["laboratorium"] },
  { da: "opslagstavle", ru: "–¥–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π", ex: "Meddelinger h√¶nges p√• ___.", parts: ["opslagstavle"] },
  { da: "universitet", ru: "—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", ex: "Han studerer p√• ___.", parts: ["universitet"] },
  { da: "gymnasium", ru: "–≥–∏–º–Ω–∞–∑–∏—è", ex: "Hun g√•r p√• ___.", parts: ["gymnasium"] },
  { da: "kontor", ru: "–æ—Ñ–∏—Å", ex: "Jeg arbejder p√• et ___.", parts: ["kontor"] },
  { da: "fabrik", ru: "—Ñ–∞–±—Ä–∏–∫–∞", ex: "___ producerer m√∏bler.", parts: ["fabrik"] },
  { da: "supermarked", ru: "—Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç", ex: "Vi k√∏ber mad i ___.", parts: ["supermarked"] },
    { da: "h√∏jland", ru: "–ø–ª–∞—Ç–æ, –≤–æ–∑–≤—ã—à–µ–Ω–Ω–æ—Å—Ç—å", ex: "Vi gik p√• vandretur i ___.", parts: ["h√∏jland"] },
  { da: "kl√∏ft", ru: "—É—â–µ–ª—å–µ", ex: "Vi s√• en dyb ___ mellem klipperne.", parts: ["kl√∏ft"] },
  { da: "fjeld", ru: "–≥–æ—Ä–∞ (–≤ –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏–∏)", ex: "Vi besteg et h√∏jt ___.", parts: ["fjeld"] },
  { da: "hede", ru: "–≤–µ—Ä–µ—Å–∫–æ–≤–∞—è –ø—É—Å—Ç–æ—à—å", ex: "Dyrene gr√¶sser p√• ___.", parts: ["hede"] },
  { da: "mos", ru: "–±–æ–ª–æ—Ç–æ", ex: "Vi gik forsigtigt over ___.", parts: ["mos"] },
  { da: "voldgrav", ru: "—Ä–æ–≤, –∫—Ä–µ–ø–æ—Å—Ç–Ω–æ–π —Ä–æ–≤", ex: "Slottet havde en dyb ___.", parts: ["voldgrav"] },
  { da: "√•s", ru: "—Ö–æ–ª–º, –≥—Ä—è–¥–∞", ex: "Vi gik langs en lang ___.", parts: ["√•s"] },
  { da: "klit", ru: "–ø–µ—Å—á–∞–Ω–∞—è –¥—é–Ω–∞", ex: "Vi legede p√• ___.", parts: ["klit"] },
  { da: "floddelta", ru: "–¥–µ–ª—å—Ç–∞ —Ä–µ–∫–∏", ex: "Vi sejlede gennem et stort ___.", parts: ["floddelta"] },
  { da: "sk√¶rg√•rd", ru: "–∞—Ä—Ö–∏–ø–µ–ª–∞–≥", ex: "Vi sejlede gennem ___.", parts: ["sk√¶rg√•rd"] },

  // --- –î–æ–º –∏ –ø—Ä–µ–¥–º–µ—Ç—ã ---
  { da: "v√¶gur", ru: "–Ω–∞—Å—Ç–µ–Ω–Ω—ã–µ —á–∞—Å—ã", ex: "___ h√¶nger p√• v√¶ggen.", parts: ["v√¶gur"] },
  { da: "skrivebord", ru: "–ø–∏—Å—å–º–µ–Ω–Ω—ã–π —Å—Ç–æ–ª", ex: "B√∏gerne ligger p√• ___.", parts: ["skrivebord"] },
  { da: "reol", ru: "–∫–Ω–∏–∂–Ω–∞—è –ø–æ–ª–∫–∞", ex: "B√∏gerne st√•r i ___.", parts: ["reol"] },
  { da: "loftslampe", ru: "–ª—é—Å—Ç—Ä–∞", ex: "Vi t√¶ndte ___.", parts: ["loftslampe"] },
  { da: "paraply", ru: "–∑–æ–Ω—Ç", ex: "Jeg tog min ___ med.", parts: ["paraply"] },
  { da: "komfur", ru: "–ø–ª–∏—Ç–∞", ex: "Vi laver mad p√• ___.", parts: ["komfur"] },
  { da: "ovn", ru: "–¥—É—Ö–æ–≤–∫–∞", ex: "Kagen bages i ___.", parts: ["ovn"] },
  { da: "br√∏drister", ru: "—Ç–æ—Å—Ç–µ—Ä", ex: "Vi laver morgenmad med ___.", parts: ["br√∏drister"] },
  { da: "stol", ru: "—Å—Ç—É–ª", ex: "Vi satte os p√• ___.", parts: ["stol"] },
  { da: "sofabord", ru: "–∂—É—Ä–Ω–∞–ª—å–Ω—ã–π —Å—Ç–æ–ª–∏–∫", ex: "B√∏gerne ligger p√• ___.", parts: ["sofabord"] },

  // --- –õ—é–¥–∏ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ ---
  { da: "√∏konom", ru: "—ç–∫–æ–Ω–æ–º–∏—Å—Ç", ex: "___ analyserer markedet.", parts: ["√∏konom"] },
  { da: "psykiater", ru: "–ø—Å–∏—Ö–∏–∞—Ç—Ä", ex: "___ arbejder med patienter.", parts: ["psykiater"] },
  { da: "fysioterapeut", ru: "—Ñ–∏–∑–∏–æ—Ç–µ—Ä–∞–ø–µ–≤—Ç", ex: "___ hj√¶lper patienter med √∏velser.", parts: ["fysioterapeut"] },
  { da: "bibliotekar", ru: "–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å", ex: "___ arbejder p√• biblioteket.", parts: ["bibliotekar"] },
  { da: "ingeni√∏r", ru: "–∏–Ω–∂–µ–Ω–µ—Ä", ex: "___ designer bygninger.", parts: ["ingeni√∏r"] },
  { da: "arkitekt", ru: "–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä", ex: "___ tegner huse.", parts: ["arkitekt"] },
  { da: "designer", ru: "–¥–∏–∑–∞–π–Ω–µ—Ä", ex: "___ laver m√∏bler.", parts: ["designer"] },
  { da: "journalist", ru: "–∂—É—Ä–Ω–∞–ª–∏—Å—Ç", ex: "___ skriver artikler.", parts: ["journalist"] },
  { da: "kok", ru: "–ø–æ–≤–∞—Ä", ex: "___ arbejder p√• restauranten.", parts: ["kok"] },
  { da: "l√¶ge", ru: "–≤—Ä–∞—á", ex: "___ unders√∏ger patienter.", parts: ["l√¶ge"] }
];


const container = document.getElementById("wordsContainer");

words.forEach((w, idx) => {
  const div = document.createElement("div");
  div.className = "word";

  const da = document.createElement("div");
  da.className = "daWord";
  da.textContent = "DA: " + w.da;

  const ru = document.createElement("div");
  ru.className = "ruWord";
  ru.textContent = "RU: " + w.ru;

  const exDiv = document.createElement("div");
  const parts = w.parts;
  let partIdx = 0;
  w.ex.split(" ").forEach(word => {
    if(word.includes("___")) {
      const input = document.createElement("input");
      input.type = "text";
      input.dataset.word = parts[partIdx].toLowerCase();
      partIdx++;
      exDiv.appendChild(input);
      exDiv.appendChild(document.createTextNode(" "));
    } else {
      const span = document.createElement("span");
      span.textContent = word;
      span.className = "wordSpan";
      span.dataset.word = word.replace(/[.,!?]/g,"").toLowerCase();
      exDiv.appendChild(span);
      exDiv.appendChild(document.createTextNode(" "));
    }
  });

  // –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–≤–æ–¥–∞
  const checkBtn = document.createElement("button");
  checkBtn.textContent = "Tjek";
  checkBtn.onclick = () => {
    exDiv.querySelectorAll("input").forEach(inp => {
      if(inp.value.trim().toLowerCase() === inp.dataset.word){
        inp.classList.add("correct");
        inp.classList.remove("wrong");
      } else {
        inp.classList.add("wrong");
        inp.classList.remove("correct");
      }
    });
  };

  // üé§ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
  const micBtn = document.createElement("button");
  micBtn.textContent = "üéôÔ∏è L√¶s h√∏jt";
  micBtn.onclick = () => {
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "da-DK";
    recognition.interimResults = false;
    recognition.start();

    recognition.onresult = event => {
      const spoken = event.results[0][0].transcript.toLowerCase();
      exDiv.querySelectorAll("span, input").forEach(el => {
        const word = el.dataset.word;
        if(spoken.includes(word)){
          el.classList.add("correct");
          el.classList.remove("wrong");
        } else {
          el.classList.add("wrong");
          el.classList.remove("correct");
        }
      });
    };
    recognition.onerror = err => console.error("SpeechRecognition error:", err);
  };

  // ‚è∫Ô∏è –ó–∞–ø–∏—Å—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≥–æ–ª–æ—Å–∞
  const recordBtn = document.createElement("button");
  recordBtn.textContent = "‚è∫Ô∏è Optag og spil";
  let audioBlob = null;

  recordBtn.onclick = async () => {
    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
    const mediaRecorder = new MediaRecorder(stream);
    let chunks = [];
    mediaRecorder.ondataavailable = e => chunks.push(e.data);
    mediaRecorder.onstop = () => {
      audioBlob = new Blob(chunks, { type: 'audio/webm' });
      const audioUrl = URL.createObjectURL(audioBlob);
      const audio = new Audio(audioUrl);
      audio.play();
    };
    mediaRecorder.start();
    setTimeout(() => mediaRecorder.stop(), 3000); // –∑–∞–ø–∏—Å—ã–≤–∞–µ–º 3 —Å–µ–∫
  };

  // üîä –ü—Ä–æ—Å–ª—É—à–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª
  const playOrigBtn = document.createElement("button");
  playOrigBtn.textContent = "‚ñ∂Ô∏è H√∏r original";
  playOrigBtn.onclick = () => {
    const utterance = new SpeechSynthesisUtterance(w.ex.replace(/___/g, w.parts.join(" ")));
    utterance.lang = "da-DK";
    window.speechSynthesis.speak(utterance);
  };

  div.appendChild(da);
  div.appendChild(ru);
  div.appendChild(exDiv);
  div.appendChild(checkBtn);
  div.appendChild(micBtn);
  div.appendChild(recordBtn);
  div.appendChild(playOrigBtn);
  container.appendChild(div);
});

// —Å–∫—Ä—ã—Ç–∏–µ —Å–ª–æ–≤ / –ø–µ—Ä–µ–≤–æ–¥–æ–≤
document.getElementById("toggleWords").onchange = e => {
  document.querySelectorAll(".daWord").forEach(d => d.classList.toggle("hidden", e.target.checked));
};
document.getElementById("toggleTranslations").onchange = e => {
  document.querySelectorAll(".ruWord").forEach(d => d.classList.toggle("hidden", e.target.checked));
};
</script>
</body>
</html>
