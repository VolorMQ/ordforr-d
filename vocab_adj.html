<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>Tr√¶ning af ordforr√•d adjektiver(DA‚ÜíRU)</title>
<style>
body { font-family: sans-serif; line-height: 1.6; margin: 20px; }
.word { border: 1px solid #ccc; border-radius: 8px; padding: 12px; margin-bottom: 12px; }
.hidden { display: none; }
input[type="text"] { padding: 5px; margin: 3px; width: 120px; }
button { margin-left: 5px; padding: 5px 10px; }
.correct { background-color: #c8f7c5; } /* –∑–µ–ª—ë–Ω—ã–π */
.wrong { background-color: #f7c5c5; }   /* –∫—Ä–∞—Å–Ω—ã–π */
.wordSpan { margin-right: 3px; }
</style>
</head>
<body>
<h2>Tr√¶ning af ordforr√•d adjektiver(DA‚ÜíRU)</h2>
<label><input type="checkbox" id="toggleWords"> Skjul alle ord</label>
<label><input type="checkbox" id="toggleTranslations"> Skjul alle overs√¶ttelser</label>

<div id="wordsContainer"></div>

<script>
const words = [
  // --- –°–æ—é–∑—ã, —á–∞—Å—Ç–∏—Ü—ã, –ø—Ä–µ–¥–ª–æ–≥–∏ ---
	{ da: "almindelig", ru: "–æ–±—ã—á–Ω—ã–π", ex: "Det var en ___ dag.", parts: ["almindelig"] },
	{ da: "fantastisk", ru: "—Ñ–∞–Ω—Ç–∞—Å—Ç–∏—á–µ—Å–∫–∏–π", ex: "Vi havde en ___ oplevelse.", parts: ["fantastisk"] },
	{ da: "vigtig", ru: "–≤–∞–∂–Ω—ã–π", ex: "Det er ___ at v√¶re punktlig.", parts: ["vigtig"] },
	{ da: "kompliceret", ru: "—Å–ª–æ–∂–Ω—ã–π", ex: "Opgaven var meget ___.", parts: ["kompliceret"] },
	{ da: "overraskende", ru: "—É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π", ex: "Det var ___, hvor hurtigt han l√¶rte det.", parts: ["overraskende"] },
	{ da: "imponerende", ru: "–≤–ø–µ—á–∞—Ç–ª—è—é—â–∏–π", ex: "Hans pr√¶station var virkelig ___.", parts: ["imponerende"] },
	{ da: "udfordrende", ru: "—Ç—Ä–µ–±—É—é—â–∏–π —É—Å–∏–ª–∏–π", ex: "Projektet var ___ men sp√¶ndende.", parts: ["udfordrende"] },
	{ da: "betydelig", ru: "–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π", ex: "Der var en ___ forskel mellem de to resultater.", parts: ["betydelig"] },
	{ da: "praktisk", ru: "–ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π", ex: "Det er ___ at have en plan.", parts: ["praktisk"] },
	{ da: "us√¶dvanlig", ru: "–Ω–µ–æ–±—ã—á–Ω—ã–π", ex: "Hun havde en ___ evne til at l√¶re hurtigt.", parts: ["us√¶dvanlig"] },
	{ da: "moderne", ru: "—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π", ex: "Vi boede i et ___ hus.", parts: ["moderne"] },
	{ da: "traditionel", ru: "—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π", ex: "De fejrede p√• en ___ m√•de.", parts: ["traditionel"] },
	{ da: "effektiv", ru: "—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π", ex: "Det var en ___ metode.", parts: ["effektiv"] },
	{ da: "mystisk", ru: "—Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π", ex: "Der skete noget ___ i nat.", parts: ["mystisk"] },
	{ da: "rolig", ru: "—Å–ø–æ–∫–æ–π–Ω—ã–π", ex: "Han f√∏lte sig ___ efter yogaen.", parts: ["rolig"] },
	{ da: "glad", ru: "—Å—á–∞—Å—Ç–ª–∏–≤—ã–π", ex: "Hun var ___ over nyheden.", parts: ["glad"] },
	{ da: "trist", ru: "–≥—Ä—É—Å—Ç–Ω—ã–π", ex: "Han var ___ efter filmen.", parts: ["trist"] },
	{ da: "venlig", ru: "–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π", ex: "Hun er altid ___ mod b√∏rn.", parts: ["venlig"] },
	{ da: "uh√∏flig", ru: "–Ω–µ–≤–µ–∂–ª–∏–≤—ã–π", ex: "Han var ___ mod servitricen.", parts: ["uh√∏flig"] },
	{ da: "st√¶rk", ru: "—Å–∏–ª—å–Ω—ã–π", ex: "Han er ___ nok til at l√∏fte boksen.", parts: ["st√¶rk"] },
	{ da: "svag", ru: "—Å–ª–∞–±—ã–π", ex: "Hun f√∏lte sig ___ efter sygdommen.", parts: ["svag"] },
	{ da: "klog", ru: "—É–º–Ω—ã–π", ex: "Det var en ___ beslutning.", parts: ["klog"] },
	{ da: "dum", ru: "–≥–ª—É–ø—ã–π", ex: "Det var en ___ id√©.", parts: ["dum"] },
	{ da: "smuk", ru: "–∫—Ä–∞—Å–∏–≤—ã–π", ex: "Haven var ___ om for√•ret.", parts: ["smuk"] },
	{ da: "grim", ru: "—É—Ä–æ–¥–ª–∏–≤—ã–π", ex: "Det var en ___ bygning.", parts: ["grim"] },
	{ da: "hurtig", ru: "–±—ã—Å—Ç—Ä—ã–π", ex: "Han l√∏b ___ til bussen.", parts: ["hurtig"] },
	{ da: "langsom", ru: "–º–µ–¥–ª–µ–Ω–Ω—ã–π", ex: "Toget var ___ i dag.", parts: ["langsom"] },
	{ da: "h√∏j", ru: "–≤—ã—Å–æ–∫–∏–π", ex: "Bygningen var meget ___.", parts: ["h√∏j"] },
	{ da: "lav", ru: "–Ω–∏–∑–∫–∏–π", ex: "Bordet var for ___.", parts: ["lav"] },
	{ da: "bred", ru: "—à–∏—Ä–æ–∫–∏–π", ex: "Vejen var ___.", parts: ["bred"] },
	{ da: "smal", ru: "—É–∑–∫–∏–π", ex: "Stien var ___.", parts: ["smal"] },
	{ da: "dyb", ru: "–≥–ª—É–±–æ–∫–∏–π", ex: "Havet var ___ her.", parts: ["dyb"] },
	{ da: "varm", ru: "—Ç—ë–ø–ª—ã–π", ex: "Vandet var ___.", parts: ["varm"] },
	{ da: "kold", ru: "—Ö–æ–ª–æ–¥–Ω—ã–π", ex: "Det var en ___ vinterdag.", parts: ["kold"] },
	{ da: "v√•d", ru: "–º–æ–∫—Ä—ã–π", ex: "Jorden var ___ efter regnen.", parts: ["v√•d"] },
	{ da: "t√∏r", ru: "—Å—É—Ö–æ–π", ex: "Luften var ___.", parts: ["t√∏r"] },
	{ da: "lys", ru: "—Å–≤–µ—Ç–ª—ã–π", ex: "Rummet var ___.", parts: ["lys"] },
	{ da: "m√∏rk", ru: "—Ç—ë–º–Ω—ã–π", ex: "Himlen var ___ om aftenen.", parts: ["m√∏rk"] },
	{ da: "rig", ru: "–±–æ–≥–∞—Ç—ã–π", ex: "Han voksede op i en ___ familie.", parts: ["rig"] },
	{ da: "fattig", ru: "–±–µ–¥–Ω—ã–π", ex: "B√∏rnene kom fra ___ familier.", parts: ["fattig"] },
	{ da: "modig", ru: "—Å–º–µ–ª—ã–π", ex: "Hun tog en ___ beslutning.", parts: ["modig"] },
	{ da: "frygtsom", ru: "—Ä–æ–±–∫–∏–π", ex: "Han var ___ ved at m√∏de fremmede.", parts: ["frygtsom"] },
	{ da: "trofast", ru: "–≤–µ—Ä–Ω—ã–π", ex: "Hunden var ___ mod sin ejer.", parts: ["trofast"] },
	{ da: "utrov√¶rdig", ru: "–Ω–µ–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–π", ex: "Hans forklaring var ___.", parts: ["utrov√¶rdig"] },
	{ da: "n√∏jagtig", ru: "—Ç–æ—á–Ω—ã–π", ex: "M√•lingen var ___.", parts: ["n√∏jagtig"] },
	{ da: "un√∏jagtig", ru: "–Ω–µ—Ç–æ—á–Ω—ã–π", ex: "Opgaven var ___ udf√∏rt.", parts: ["un√∏jagtig"] },
	{ da: "pr√¶cis", ru: "–∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π, —Ç–æ—á–Ω—ã–π", ex: "Tiden blev ___.", parts: ["pr√¶cis"] },
	{ da: "farlig", ru: "–æ–ø–∞—Å–Ω—ã–π", ex: "Vejen var ___ at krydse.", parts: ["farlig"] },
	{ da: "sikker", ru: "–±–µ–∑–æ–ø–∞—Å–Ω—ã–π", ex: "Omr√•det er ___.", parts: ["sikker"] },
	{ da: "sv√¶r", ru: "—Ç—è–∂—ë–ª—ã–π, —Å–ª–æ–∂–Ω—ã–π", ex: "Pr√∏ven var ___.", parts: ["sv√¶r"] },
	{ da: "let", ru: "–ª—ë–≥–∫–∏–π", ex: "Opgaven var ___.", parts: ["let"] },
	{ da: "m√¶rkelig", ru: "—Å—Ç—Ä–∞–Ω–Ω—ã–π", ex: "Det var en ___ oplevelse.", parts: ["m√¶rkelig"] },
	{ da: "besv√¶rlig", ru: "–∑–∞—Ç—Ä—É–¥–Ω–∏—Ç–µ–ª—å–Ω—ã–π", ex: "Det var ___ at finde parkeringsplads.", parts: ["besv√¶rlig"] },
	{ da: "uventet", ru: "–Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π", ex: "Bes√∏get var ___.", parts: ["uventet"] },
	{ da: "seri√∏s", ru: "—Å–µ—Ä—å—ë–∑–Ω—ã–π", ex: "Han tog sagen ___.", parts: ["seri√∏s"] },
	{ da: "sjov", ru: "–≤–µ—Å—ë–ª—ã–π", ex: "Filmen var ___.", parts: ["sjov"] },
	{ da: "interessant", ru: "–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π", ex: "Bogen var ___.", parts: ["interessant"] },
	{ da: "kedelig", ru: "—Å–∫—É—á–Ω—ã–π", ex: "M√∏det var ___.", parts: ["kedelig"] },
	{ da: "hyggelig", ru: "—É—é—Ç–Ω—ã–π, –ø—Ä–∏—è—Ç–Ω—ã–π", ex: "Huset var ___.", parts: ["hyggelig"] },
	{ da: "uhyggelig", ru: "–∂—É—Ç–∫–∏–π", ex: "Filmen var ___.", parts: ["uhyggelig"] }
];


const container = document.getElementById("wordsContainer");

words.forEach((w, idx) => {
  const div = document.createElement("div");
  div.className = "word";

  const da = document.createElement("div");
  da.className = "daWord";
  da.textContent = "DA: " + w.da;

  const ru = document.createElement("div");
  ru.className = "ruWord";
  ru.textContent = "RU: " + w.ru;

  const exDiv = document.createElement("div");

  if (w.da.includes("...") && w.parts.length === 2) {
    const exParts = w.ex.split("___");
    
    const span1 = document.createElement("span");
    span1.textContent = exParts[0];
    exDiv.appendChild(span1);

    const input1 = document.createElement("input");
    input1.type = "text";
    input1.dataset.word = w.parts[0].toLowerCase();
    input1.className = "wordPart";
    exDiv.appendChild(input1);

    const spanMid = document.createElement("span");
    spanMid.textContent = exParts[1];
    exDiv.appendChild(spanMid);

    const input2 = document.createElement("input");
    input2.type = "text";
    input2.dataset.word = w.parts[1].toLowerCase();
    input2.className = "wordPart";
    exDiv.appendChild(input2);

    const spanEnd = document.createElement("span");
    spanEnd.textContent = exParts[2] ? exParts[2] : "";
    exDiv.appendChild(spanEnd);

  } else {
    let partIdx = 0;
    w.ex.split(" ").forEach(word => {
      if (word.includes("___")) {
        const wordsArray = w.parts[partIdx].split(" ");
        wordsArray.forEach(wPart => {
          const input = document.createElement("input");
          input.type = "text";
          input.dataset.word = wPart.toLowerCase();
          input.className = "wordPart";
          exDiv.appendChild(input);
          exDiv.appendChild(document.createTextNode(" "));
        });
        partIdx++;
      } else {
        const span = document.createElement("span");
        span.textContent = word;
        span.className = "wordSpan";
        span.dataset.word = word.replace(/[.,!?]/g, "").toLowerCase();
        exDiv.appendChild(span);
        exDiv.appendChild(document.createTextNode(" "));
      }
    });
  }

  const checkBtn = document.createElement("button");
  checkBtn.textContent = "Tjek";
  checkBtn.onclick = () => {
    const inputs = exDiv.querySelectorAll("input");
    let allCorrect = true;
    inputs.forEach(inp => {
      const correctWords = inp.dataset.word.toLowerCase().split(" ");
      const userWords = inp.value.trim().toLowerCase().split(" ");
      const isCorrect = correctWords.length === userWords.length &&
                        correctWords.every((w,i)=>w===userWords[i]);
      if(isCorrect){
        inp.classList.add("correct");
        inp.classList.remove("wrong");
      } else {
        inp.classList.add("wrong");
        inp.classList.remove("correct");
        allCorrect = false;
      }
    });
    const result = document.createElement("div");
    result.className = allCorrect ? "correct" : "wrong";
    result.textContent = allCorrect ? "Korrekt!" : "Forkert!";
    exDiv.appendChild(result);
    setTimeout(()=>result.remove(),1500);
  };

  const micBtn = document.createElement("button");
  micBtn.textContent = "üéôÔ∏è L√¶s h√∏jt";
  micBtn.onclick = () => {
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "da-DK";
    recognition.interimResults = false;
    recognition.start();
    recognition.onresult = event => {
      const spoken = event.results[0][0].transcript.toLowerCase();
      exDiv.querySelectorAll("span, input").forEach(el => {
        const word = el.dataset.word;
        if(word && spoken.includes(word)){
          el.classList.add("correct");
          el.classList.remove("wrong");
        } else if(word){
          el.classList.add("wrong");
          el.classList.remove("correct");
        }
      });
    };
    recognition.onerror = err => console.error("SpeechRecognition error:", err);
  };

  const playOrigBtn = document.createElement("button");
  playOrigBtn.textContent = "‚ñ∂Ô∏è H√∏r original";
  
  const speedWrapper = document.createElement("div");
  speedWrapper.style.display = "flex";
  speedWrapper.style.alignItems = "center";
  speedWrapper.style.gap = "6px";

  const speedSlider = document.createElement("input");
  speedSlider.type = "range";
  speedSlider.min = "0.5";
  speedSlider.max = "1.5";
  speedSlider.step = "0.1";
  speedSlider.value = "1";
  speedSlider.className = "speedControl";

  const speedLabel = document.createElement("span");
  speedLabel.textContent = speedSlider.value + "x";
  speedLabel.style.fontSize = "0.9em";
  speedLabel.style.color = "#444";

  speedSlider.addEventListener("input", () => {
    speedLabel.textContent = speedSlider.value + "x";
  });

  playOrigBtn.onclick = () => {
    const utterance = new SpeechSynthesisUtterance(
      w.ex.replace(/___/g, ()=>w.parts.join(" "))
    );
    utterance.lang = "da-DK";
    utterance.rate = parseFloat(speedSlider.value);
    window.speechSynthesis.speak(utterance);
  };

  div.appendChild(da);
  div.appendChild(ru);
  div.appendChild(exDiv);
  div.appendChild(checkBtn);
  div.appendChild(micBtn);
  div.appendChild(playOrigBtn);

  speedWrapper.appendChild(speedSlider);
  speedWrapper.appendChild(speedLabel);
  div.appendChild(speedWrapper);

  container.appendChild(div);
});

document.getElementById("toggleWords").onchange = e => {
  document.querySelectorAll(".daWord").forEach(d => d.classList.toggle("hidden", e.target.checked));
};
document.getElementById("toggleTranslations").onchange = e => {
  document.querySelectorAll(".ruWord").forEach(d => d.classList.toggle("hidden", e.target.checked));
};
</script>
</body>
</html>